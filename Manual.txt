1. INICIALIZACIÓN

En primer lugar, el sistema toma lectura del acelerador para verificar que da una medida correcta. En caso de no tomarse una medida válida, se emite un tono morse SOS que informa de que se ha producido un error en la lectura. Es preciso arrancar con el acelerador al mínimo para evitar alertas.

1 tono + 3 tonos – Inicialización sin ayuda 6kmh
1 tono + 2 tonos + 3 tonos – Inicialización con ayuda 6kmh

El primer tono inicializa y los tres últimos tonos concluyen la inicialización. 
Si se mantiene pulsado el freno durante el arranque, se emiten dos tonos intermedios que avisan de la activación de la asistencia en salida 6kmh. Esta funcionalidad se puede anular poniendo la variable freno_pulsado a false.

Se puede customizar este proceso con las siguientes variables:
•	retardo_ayuda_arranque: Tiempo en ms que queremos retardar la ayuda al arranque para evitar salidas involuntarias si alguien toca el acelerador o por nuestra seguridad.
•	activar_progresivo_ayuda_arranque: Si está a true, permite iniciar la ayuda al arranque aplicando más potencia al inicio y bajando hasta los 6kmh para salir con más alegría.
•	v_salida_progresivo_ayuda_arranque: Potencia con la que se inicia la ayuda a 6kmh si la variable anterior está a true.

2. MODO CRUCERO

El modo crucero puede ser desactivado cambiando la variable modo_crucero a false.

En caso de tener el crucero activado, para fijarlo, según la configuración seleccionada, se tendrá que mantener la posición del acelerador durante el tiempo definido en la variable pulsos_fijar_crucero. 

Exiten dos valores por defecto. si la variable se encuentra configurada a valor 2 el crucero se fijará constantemente y no se emitirá ningún tono de aviso. 
Si se utiliza cualquier valor por encima de 14, la velocidad se fijará en el tiempo seleccionado. (en este caso 1960ms) y se emitirá un tono de aviso de que se ha fijado el crucero. 
En ese momento ya se puede soltar el acelerador y disfrutar del valor seleccionado mientras se esté pedaleando.  

El acelerador prevalecerá siempre por encima del crucero, ya sea un valor superior o inferior al crucero.
A partir de la versión 2.5.0 se ha incluido un nuevo comportamiento configurable. Ver Anexo Versión 2.5.0.

Si se deja de pedalear, se dejará de entregar potencia al motor, y si se vuelve a pedalear, se iniciará el progresivo aplicando la potencia al motor.

Si estando con el crucero fijado se deja de pedalear y se interactúa con el acelerador, estando activada la ayuda a 6kmh, se empezará a entregar potencia al motor al valor 6kmh.
En el momento que el acelerador llegue al estado de reposo, se anulará el crucero.

3. SALIDA DE CRUCERO

Existen dos métodos:
•	Manteniendo pulsado el freno durante 4.6 segundos (puede ser otro valor distinto cambiando la variable pulsos_liberar_crucero).
•	Sin pedalear, acelerar y soltar el acelerador. (Se puede desactivar poniendo la variable liberar_crucero_con_acelerador a false).
  * En caso de que no se use la asistencia de de 6 km/h, se puede desfijar el nivel de asistencia con el acelerador pedalenado --> Simplemente abrir un poco de gas (lo que dure la variable pulsos_fijar_crucero) y soltary.soltar 


Anexo Versión 2.3.6

En la versión 2.3.6, se ha añadido junto al .ino del programa principal varios archivos de configuración con los que cargar los valores por defecto.

•	config_tiempo
•	config_continuo
•	config_custom
•	config_sincrucero

El las primeras líneas del código del .ino se puede comentar/descomentar la versión de configuración que sea de tu agrado. 
Hemos dejado un archivo custom, en el que se puede probar a realizar cambios a gusto de cada uno, sin perder los valores que hemos definido en las versiones por defecto.

El código de la versión 2.3.6 puede ser localizado en github en la rama develop del repositorio de d0s1s.
Esta versión pasará a master en el momento que veamos que la versión es completamente estable.

Anexo Versión 2.5.0

Se ha implementado un cambio para mejorar la usabilidad, que permite bloquear la acción del acelerador por debajo de la velocidad de crucero. 

Con esta opción se conseguirá que si tenemos un crucero fijado no tendamos caída de potencia al interactuar con el acelerador. 

Para activar esta funcionalidad hay que poner la variable bloqueo_acelerador_debajo_crucero a true.

** Esta idea está basada en el funcionamiento del crucero en los coches que en la mayoría tiene un comportamiento similar y es válida para la fijación de crucero por tiempo (En la fijación continua, no debe ser activada).
